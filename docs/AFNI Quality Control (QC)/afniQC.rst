=======================
AFNI Quality Control (QC)
=======================

Using afni_proc.py QC measures to assess imaging data & preprocessing 
=======================

afni_proc.py has the following options for Quality Control:

-html_review_style STYLE : specify generation method for HTML review
        -html_review_style pythonic
        -html_review_style basic (this is the default)

The following instructions assume that the "-html_review_style pythonic" option was used.

You can assess the QC files generated by navigating to the QC_subj# folder in the afni_proc.py output and opening each .HTML file using a browser command like: 

.. code::

   firefox index.html 

OR 

.. code::

   open_afni index.html

Where 'index.html' is the main QC page that is created. However, this method doesn't utilize all of the features of the pythonic QC option. A preferred option is to create a local server using Python to view the QC output. 

So, the first thing to do is to check to see if Python is installed on your computer by entering the following command in a terminal window (Mac):

.. code::

   python -V

Or, if the above fails...

.. code::

   python3 -V

Or, if the "py" command is available, try...

.. code::

   py -V



If your Python version is 3.X (or above), run the following command in the QC directory (typically called 'QC_subj#') generated from afni_proc.py.

.. code::

   python3 -m http.server

If you have Python version 2.X, 

.. code::

   python -m SimpleHTTPServer

.. note:: Most of the instructions here are for MacOS.  On Windows, try "python -m http.server" or "py -3 -m http.server‚Äù

After doing so, your terminal window should indicate that you started a session. 
Next, open up a browser window on your computer and type in the following URL: 

.. code::

   localhost:8000

This should make the ".html" files in the QC directory appear as a website. On the next page, we'll talk about how to evaluate the various sections of the QC file. 
